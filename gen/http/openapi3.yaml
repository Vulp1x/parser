openapi: 3.0.3
info:
  title: REST api for simple route app
  version: "1.0"
servers:
  - url: /
    description: Default server for rest-api
paths:
  /api/datasets/:
    get:
      tags:
        - datasets_service
      summary: list datasets datasets_service
      description: получить все задачи для текущего пользователя
      operationId: datasets_service#list datasets
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dataset'
                example:
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
              example:
                - bloggers:
                    - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                      is_initial: true
                      user_id: 2159221370726463873
                      username: Blanditiis nihil exercitationem saepe.
                    - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                      is_initial: true
                      user_id: 2159221370726463873
                      username: Blanditiis nihil exercitationem saepe.
                  id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                  status: 5
                  title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                - bloggers:
                    - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                      is_initial: true
                      user_id: 2159221370726463873
                      username: Blanditiis nihil exercitationem saepe.
                    - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                      is_initial: true
                      user_id: 2159221370726463873
                      username: Blanditiis nihil exercitationem saepe.
                  id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                  status: 5
                  title: Aliquid qui quos nostrum mollitia consequuntur delectus.
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                type: string
                example: Aut sunt dolorum.
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dataset'
                example:
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dataset'
                example:
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Dataset'
                example:
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
                  - bloggers:
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                      - dataset_id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                        id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                        is_initial: true
                        user_id: 2159221370726463873
                        username: Blanditiis nihil exercitationem saepe.
                    id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                    status: 5
                    title: Aliquid qui quos nostrum mollitia consequuntur delectus.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
  /api/datasets/{dataset_id}/:
    get:
      tags:
        - datasets_service
      summary: get dataset datasets_service
      description: получить задачу по id
      operationId: datasets_service#get dataset
      parameters:
        - name: dataset_id
          in: path
          description: id задачи
          required: true
          schema:
            type: string
            description: id задачи
            example: Et fugiat quia id error.
          example: Eaque laudantium.
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
              example:
                bloggers:
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                id: 773F4E7F-A748-DF6D-4355-233071D2534A
                status: 3
                title: Pariatur et velit unde.
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                type: string
                example: Consectetur ut.
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Soluta qui enim.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
    put:
      tags:
        - datasets_service
      summary: update dataset datasets_service
      description: |-
        обновить информацию о задаче. Не меняет статус задачи, можно вызывать сколько угодно раз.
        			Нельзя вызвать для задачи, которая уже выполняется, для этого надо сначала остановить выполнение.
      operationId: datasets_service#update dataset
      parameters:
        - name: dataset_id
          in: path
          description: id задачи, которую хотим обновить
          required: true
          schema:
            type: string
            description: id задачи, которую хотим обновить
            example: Impedit repellat.
          example: Nostrum culpa veritatis.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateDatasetRequestBody'
            example:
              commented_per_post:
                - Alias provident veritatis esse.
                - Aliquid rerum nam optio animi.
              liked_per_post:
                - Eveniet id amet labore dolorum.
                - Veritatis adipisci tenetur illo aut.
              original_accounts:
                - Dolorem molestiae eos exercitationem consequatur eligendi temporibus.
                - Iusto eaque perferendis eius ipsa ut blanditiis.
                - Ad laudantium sequi consequatur reprehenderit eveniet reprehenderit.
              phone_code: 7
              posts_per_blogger:
                - Mollitia laudantium.
                - Omnis vero voluptatem qui quam ut sit.
              title: Suscipit doloremque quod alias vero quibusdam occaecati.
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
              example:
                bloggers:
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                id: 2C91774A-6D4A-67B6-DC43-6AED849DACC1
                status: 1
                title: Non ad et est dolorem.
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                type: string
                example: In deleniti facilis ullam magnam.
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Dataset'
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Voluptates aut aut.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
  /api/datasets/{dataset_id}/progress/:
    get:
      tags:
        - datasets_service
      summary: get progress datasets_service
      description: получить статус выполнения задачи по id
      operationId: datasets_service#get progress
      parameters:
        - name: dataset_id
          in: path
          description: id задачи
          required: true
          schema:
            type: string
            description: id задачи
            example: Alias alias.
          example: Ut id in molestiae qui voluptatem.
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DatasetProgress'
              example:
                bots_progresses:
                  Atque possimus.:
                    posts_count: 2211178976413215566
                    status: 2942676180521756233
                    user_name: Perspiciatis ea autem.
                  Ipsum et provident omnis.:
                    posts_count: 2211178976413215566
                    status: 2942676180521756233
                    user_name: Perspiciatis ea autem.
                  Quia sunt officia inventore.:
                    posts_count: 2211178976413215566
                    status: 2942676180521756233
                    user_name: Perspiciatis ea autem.
                done: false
                targets_failed: 3061420658338084514
                targets_notified: 3293339814049071845
                targets_waiting: 1313783838639944530
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                type: string
                example: Temporibus perspiciatis enim ipsum odit velit.
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DatasetProgress'
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DatasetProgress'
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Qui culpa temporibus praesentium ut atque.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
  /api/datasets/{dataset_id}/start/:
    post:
      tags:
        - datasets_service
      summary: find similar datasets_service
      description: 'начать выполнение задачи '
      operationId: datasets_service#find similar
      parameters:
        - name: dataset_id
          in: path
          description: id задачи
          required: true
          schema:
            type: string
            description: id задачи
            example: Optio consequatur facere.
          example: Voluptas ut eius assumenda.
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindSimilarOKResponseBody'
              example:
                bloggers:
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                  - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                    id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                    is_initial: false
                    user_id: 3004203316163438102
                    username: Consequatur eos reiciendis qui consequuntur.
                dataset_id: Non nobis commodi iure unde fugiat.
                status: 4
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindSimilarOKResponseBody'
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindSimilarOKResponseBody'
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/FindSimilarOKResponseBody'
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Dicta iusto ipsa esse non aut quia.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
  /api/datasets/{dataset_id}/stop/:
    post:
      tags:
        - datasets_service
      summary: parse dataset datasets_service
      description: получить базу доноров для выбранных блогеров
      operationId: datasets_service#parse dataset
      parameters:
        - name: dataset_id
          in: path
          description: id задачи
          required: true
          schema:
            type: string
            description: id задачи
            example: Et nam ut vero iste perspiciatis.
          example: Placeat ut.
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
              example:
                dataset_id: Vitae sit.
                status: 6
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Id suscipit asperiores qui nam aut ipsa.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
  /api/datasets/draft/:
    post:
      tags:
        - datasets_service
      summary: create dataset draft datasets_service
      description: создать драфт задачи
      operationId: datasets_service#create dataset draft
      responses:
        "200":
          description: OK response.
          content:
            application/json:
              schema:
                type: string
                description: dataset_id для созданной задачи
                example: 35814117-F834-9FAB-0A03-DB6E91CE1F7F
                format: uuid
              example: EBC096AD-D9EC-2F9C-CCD5-2819684939D3
        "400":
          description: 'bad request: Bad Request response.'
          content:
            application/json:
              schema:
                type: string
                example: Ut eaque aut cumque.
        "401":
          description: 'unauthorized: Unauthorized response.'
          content:
            application/json:
              schema:
                type: string
                description: dataset_id для созданной задачи
                example: 5D93A99A-535C-03BB-87BD-865144549E25
                format: uuid
        "404":
          description: 'dataset not found: Not Found response.'
          content:
            application/json:
              schema:
                type: string
                description: dataset_id для созданной задачи
                example: E6770800-709B-577A-95B9-5007000379C3
                format: uuid
        "500":
          description: 'internal error: Internal Server Error response.'
          content:
            application/json:
              schema:
                type: string
                example: Reiciendis vitae.
      security:
        - jwt_header_Authorization:
            - driver
            - admin
components:
  schemas:
    Blogger:
      type: object
      properties:
        dataset_id:
          type: string
          description: айди датасета, к которому принадлежит блоггер
          example: 8B791A71-1C43-AB9B-4366-12192353E1A2
          format: uuid
        id:
          type: string
          example: 6E989AEF-9C11-4862-D8B1-5CFC4F6414E0
          format: uuid
        is_initial:
          type: boolean
          description: является ли блоггер изначально в датасете или появился при парсинге
          example: true
        user_id:
          type: integer
          description: user_id в инстаграме, -1 если неизвестен
          example: 2944760333143055811
          format: int64
        username:
          type: string
          description: имя аккаунта в инстаграме
          example: Quaerat eligendi dolor eligendi.
      example:
        dataset_id: 799C598D-49D1-F53A-0ED6-818482028C45
        id: A1E767AB-DA97-F23F-D106-18BF8653EB6C
        is_initial: true
        user_id: 7107640881189090477
        username: Veniam dolore facilis necessitatibus pariatur eligendi officia.
      required:
        - id
        - dataset_id
        - username
        - is_initial
        - user_id
    BloggersProgress:
      type: object
      properties:
        posts_count:
          type: integer
          description: количество выложенных постов
          example: 5207437395947602768
          format: int64
        status:
          type: integer
          description: текущий статус бота, будут ли выкладываться посты
          example: 8898647921346884582
          format: int64
        user_name:
          type: string
          description: имя пользователя бота
          example: Doloribus explicabo in.
      example:
        posts_count: 5252012368388421029
        status: 5713730676970669967
        user_name: Temporibus enim sequi dolorem qui earum.
      required:
        - user_name
        - posts_count
        - status
    Dataset:
      type: object
      properties:
        bloggers:
          type: array
          items:
            $ref: '#/components/schemas/Blogger'
          example:
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
        id:
          type: string
          example: 6BD40BD6-7AF6-FB4E-C1C1-23700A0E68DE
          format: uuid
        status:
          type: integer
          example: 6
          enum:
            - 1
            - 2
            - 3
            - 4
            - 5
            - 6
        title:
          type: string
          description: название задачи
          example: Voluptatem ea reiciendis ea nihil ut.
      example:
        bloggers:
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
        id: D16B2ED1-3971-5178-0135-F3E819F3BA4F
        status: 5
        title: Consequatur qui at commodi quo.
      required:
        - id
        - bloggers
        - status
        - title
    DatasetProgress:
      type: object
      properties:
        bots_progresses:
          type: object
          description: результат работы по каждому боту, ключ- имя бота
          example:
            Nobis cumque deleniti accusamus est.:
              posts_count: 2211178976413215566
              status: 2942676180521756233
              user_name: Perspiciatis ea autem.
          additionalProperties:
            $ref: '#/components/schemas/BloggersProgress'
        done:
          type: boolean
          description: закончена ли задача
          example: true
        targets_failed:
          type: integer
          description: количество аккаунтов, которых не получилось упомянуть, при перезапуске задачи будут использованы заново
          example: 2595506019544658051
          format: int64
        targets_notified:
          type: integer
          description: количество аккаунтов, которых упомянули в постах
          example: 5986827445954092871
          format: int64
        targets_waiting:
          type: integer
          description: количество аккаунтов, которых не выбрали для постов
          example: 1533833259193281153
          format: int64
      example:
        bots_progresses:
          Laboriosam adipisci dolores eos sunt.:
            posts_count: 2211178976413215566
            status: 2942676180521756233
            user_name: Perspiciatis ea autem.
        done: false
        targets_failed: 8170192794194103218
        targets_notified: 3387124297746522648
        targets_waiting: 8002066294543710175
      required:
        - bots_progresses
        - targets_notified
        - targets_failed
        - targets_waiting
        - done
    FindSimilarOKResponseBody:
      type: object
      properties:
        bloggers:
          type: array
          items:
            $ref: '#/components/schemas/Blogger'
          example:
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
            - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
              id: 74C53540-E974-ABFF-2565-6BF99F9017B2
              is_initial: false
              user_id: 3004203316163438102
              username: Consequatur eos reiciendis qui consequuntur.
        dataset_id:
          type: string
          description: id задачи
          example: Recusandae soluta.
        status:
          type: integer
          example: 6
          enum:
            - 1
            - 2
            - 3
            - 4
            - 5
            - 6
      example:
        bloggers:
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
          - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
            id: 74C53540-E974-ABFF-2565-6BF99F9017B2
            is_initial: false
            user_id: 3004203316163438102
            username: Consequatur eos reiciendis qui consequuntur.
        dataset_id: Voluptatibus ad aliquam qui.
        status: 3
      required:
        - dataset_id
        - status
        - bloggers
    ParseDatasetOKResponseBody:
      type: object
      properties:
        dataset_id:
          type: string
          description: id задачи
          example: Pariatur ipsam officia tempore voluptatum vel dolores.
        status:
          type: integer
          example: 3
          enum:
            - 1
            - 2
            - 3
            - 4
            - 5
            - 6
      example:
        dataset_id: Aperiam modi.
        status: 2
      required:
        - dataset_id
        - status
    UpdateDatasetRequestBody:
      type: object
      properties:
        commented_per_post:
          type: array
          items:
            type: string
            example: Vero consequuntur excepturi minus quis voluptatem.
          description: сколько прокоментировааших для каждого поста брать
          example:
            - Aut aliquid nihil facilis rerum esse.
            - Cumque eum cumque cupiditate impedit.
        liked_per_post:
          type: array
          items:
            type: string
            example: Maiores ex modi omnis non.
          description: сколько лайкнувших для каждого поста брать
          example:
            - Dignissimos nesciunt.
            - Ut dolor saepe voluptas quis id.
        original_accounts:
          type: array
          items:
            type: string
            example: Repellendus laborum delectus qui ad.
          description: имена аккаунтов, для которых ищем похожих
          example:
            - Nulla illum et est.
            - Et deserunt ea dolores consequatur.
            - Magni aut.
        phone_code:
          type: integer
          description: код региона, по которому будем сортировать
          example: 7
          minimum: 1
          maximum: 1000
        posts_per_blogger:
          type: array
          items:
            type: string
            example: Perferendis voluptatem.
          description: имена аккаунтов, для которых ищем похожих
          example:
            - Quo optio.
            - Impedit est voluptatibus nostrum.
            - Nulla unde.
            - Asperiores sint aut sit.
        title:
          type: string
          description: название задачи
          example: Dolor omnis vel odio.
      example:
        commented_per_post:
          - Quae et maiores.
          - Animi delectus cumque cumque laborum.
          - Dolorem tempora.
          - Impedit ut.
        liked_per_post:
          - Magni eveniet enim saepe deserunt numquam.
          - Fugit perspiciatis voluptatem rerum maxime quasi.
          - Aperiam vel odio quia.
        original_accounts:
          - Quos omnis consequatur ducimus debitis id aliquid.
          - Ut ratione nemo eius.
          - Quo earum qui.
          - Quia similique.
        phone_code: 7
        posts_per_blogger:
          - Cupiditate ullam necessitatibus.
          - Et maxime sit eaque.
          - Ut id libero quos amet.
          - Explicabo voluptatibus et esse alias nam sint.
        title: Illum debitis.
  securitySchemes:
    jwt_header_Authorization:
      type: http
      description: Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes "api:read" and "api:write".
      scheme: bearer
tags:
  - name: datasets_service
    description: сервис для создания, редактирования и работы с задачами (рекламными компаниями)
