openapi: 3.0.3
info:
    title: api for parsing instagram
    version: "1.0"
servers:
    - url: http://localhost:80
      description: Default server for parser-api
paths:
    /api/datasets/:
        get:
            tags:
                - datasets_service
            summary: list datasets datasets_service
            description: получить все задачи для текущего пользователя
            operationId: datasets_service#list datasets
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Dataset'
                                example:
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                            example:
                                - bloggers:
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                  commented_per_post: 1479958127
                                  id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                  liked_per_post: 902542300
                                  phone_code: 1155971092
                                  posts_per_blogger: 981413914
                                  status: 6
                                  title: Aut rerum.
                                - bloggers:
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                  commented_per_post: 1479958127
                                  id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                  liked_per_post: 902542300
                                  phone_code: 1155971092
                                  posts_per_blogger: 981413914
                                  status: 6
                                  title: Aut rerum.
                                - bloggers:
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                  commented_per_post: 1479958127
                                  id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                  liked_per_post: 902542300
                                  phone_code: 1155971092
                                  posts_per_blogger: 981413914
                                  status: 6
                                  title: Aut rerum.
                                - bloggers:
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                    - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                      id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                      is_initial: true
                                      user_id: 848380833470019357
                                      username: Corrupti soluta aut consequatur velit temporibus.
                                  commented_per_post: 1479958127
                                  id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                  liked_per_post: 902542300
                                  phone_code: 1155971092
                                  posts_per_blogger: 981413914
                                  status: 6
                                  title: Aut rerum.
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Iste aut assumenda quidem sed.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Dataset'
                                example:
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Dataset'
                                example:
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    $ref: '#/components/schemas/Dataset'
                                example:
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
                                    - bloggers:
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                        - dataset_id: 76FB876C-96AC-91E7-BD21-B0C2988DDF65
                                          id: 7D80331A-7620-D09D-7CCB-2EF87B797732
                                          is_initial: true
                                          user_id: 848380833470019357
                                          username: Corrupti soluta aut consequatur velit temporibus.
                                      commented_per_post: 1479958127
                                      id: 1265498D-5A84-134A-1C7A-ED5B4B92788E
                                      liked_per_post: 902542300
                                      phone_code: 1155971092
                                      posts_per_blogger: 981413914
                                      status: 6
                                      title: Aut rerum.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/:
        get:
            tags:
                - datasets_service
            summary: get dataset datasets_service
            description: получить задачу по id
            operationId: datasets_service#get dataset
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Ut est rem maxime omnis aut.
                  example: Incidunt consectetur laudantium dicta temporibus debitis.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                            example:
                                bloggers:
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                commented_per_post: 1341415334
                                id: 5E3B665E-1239-9C12-9643-FFC1E6C04697
                                liked_per_post: 1587063343
                                phone_code: 474193583
                                posts_per_blogger: 1558805361
                                status: 2
                                title: Accusantium voluptatum quod qui saepe et.
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Doloremque facilis.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Vel aliquid officia sunt repudiandae dolorem.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
        put:
            tags:
                - datasets_service
            summary: update dataset datasets_service
            description: |-
                обновить информацию о задаче. Не меняет статус задачи, можно вызывать сколько угодно раз.
                			Нельзя вызвать для задачи, которая уже выполняется, для этого надо сначала остановить выполнение.
            operationId: datasets_service#update dataset
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи, которую хотим обновить
                  required: true
                  schema:
                    type: string
                    description: id задачи, которую хотим обновить
                    example: Tenetur maiores quam exercitationem laboriosam.
                  example: Omnis ipsa autem sequi.
            requestBody:
                required: true
                content:
                    application/json:
                        schema:
                            $ref: '#/components/schemas/UpdateDatasetRequestBody'
                        example:
                            commented_per_post: 15567808001698839024
                            liked_per_post: 14418834690314570323
                            original_accounts:
                                - In asperiores nam aliquid ut corrupti.
                                - Non facilis ut ab voluptatem.
                            phone_code: 7
                            posts_per_blogger: 3789565731213049679
                            title: Sint ut quo corrupti ut quis aut.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                            example:
                                bloggers:
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                commented_per_post: 1170328523
                                id: 2C91774A-6D4A-67B6-DC43-6AED849DACC1
                                liked_per_post: 181857768
                                phone_code: 542717569
                                posts_per_blogger: 1021177678
                                status: 4
                                title: Molestiae eius repellat est totam quod qui.
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Non alias dignissimos in sed natus alias.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Cupiditate suscipit explicabo neque laudantium doloremque.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/download/:
        get:
            tags:
                - datasets_service
            summary: download targets datasets_service
            description: получить всех пользователей, которых спарсили в задаче
            operationId: datasets_service#download targets
            parameters:
                - name: format
                  in: query
                  description: 1- только user_id, 2- только username, 3 - и то и другое
                  allowEmptyValue: true
                  required: true
                  schema:
                    type: integer
                    description: 1- только user_id, 2- только username, 3 - и то и другое
                    default: 3
                    example: 2
                    enum:
                        - 1
                        - 2
                        - 3
                  example: 3
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Est quae sit debitis natus nobis.
                  example: Inventore vel.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: string
                                    example: Soluta doloremque eligendi minima est voluptatum sunt.
                                example:
                                    - Voluptatum porro odit optio similique asperiores.
                                    - Sunt non aliquid excepturi et accusantium debitis.
                                    - Vitae temporibus dolore officia iusto nemo.
                            example:
                                - Tenetur quis voluptas enim sed voluptas.
                                - Iure fugiat non totam culpa et.
                                - Et odit dolor voluptatem sit vel.
                                - Et inventore est.
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Tempora omnis pariatur.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: string
                                    example: Laborum minima non quia.
                                example:
                                    - Numquam ab.
                                    - Exercitationem voluptatem.
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                type: array
                                items:
                                    type: string
                                    example: Eligendi hic repellendus voluptatem occaecati et molestias.
                                example:
                                    - Ut ut fuga labore praesentium.
                                    - Voluptas aliquam sed ratione quia.
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Officia quidem odit in ut atque.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/parse/:
        post:
            tags:
                - datasets_service
            summary: parse dataset datasets_service
            description: получить базу доноров для выбранных блогеров
            operationId: datasets_service#parse dataset
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Quo earum qui sed.
                  example: Omnis temporibus.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
                            example:
                                dataset_id: Itaque rerum nihil pariatur.
                                status: 2
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParseDatasetOKResponseBody'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Rerum animi quae.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/parsing_progress/:
        get:
            tags:
                - datasets_service
            summary: get parsing progress datasets_service
            description: 'получить статус выполнения парсинга аккаунтов '
            operationId: datasets_service#get parsing progress
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Blanditiis mollitia et.
                  example: Expedita laborum accusantium molestiae unde ipsa dolorum.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParsingProgress'
                            example:
                                bloggers_parsed: 6821685042825604698
                                done: true
                                targets_saved: 4800857605870124209
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Ipsum in.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParsingProgress'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/ParsingProgress'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Porro enim quos qui reprehenderit voluptatem non.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/progress/:
        get:
            tags:
                - datasets_service
            summary: get progress datasets_service
            description: получить статус выполнения поиска похожих аккаунтов по айди датасета
            operationId: datasets_service#get progress
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Quibusdam ex.
                  example: Exercitationem rerum laborum nisi accusamus aut voluptate.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatasetProgress'
                            example:
                                bloggers:
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                done: false
                                filtered_bloggers: 2764139812473841055
                                initial_bloggers: 4075323195520432569
                                new_bloggers: 8273693387475534630
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Consectetur aut distinctio.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatasetProgress'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/DatasetProgress'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Natus molestiae eum pariatur a.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/{dataset_id}/start/:
        post:
            tags:
                - datasets_service
            summary: find similar datasets_service
            description: 'начать выполнение задачи '
            operationId: datasets_service#find similar
            parameters:
                - name: dataset_id
                  in: path
                  description: id задачи
                  required: true
                  schema:
                    type: string
                    description: id задачи
                    example: Non consequatur nobis aliquid est.
                  example: Omnis aut eos et iure temporibus culpa.
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                            example:
                                bloggers:
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                                      is_initial: true
                                      user_id: 1265436064177614974
                                      username: Ut occaecati corrupti corporis.
                                commented_per_post: 2067100096
                                id: 773F4E7F-A748-DF6D-4355-233071D2534A
                                liked_per_post: 1902880739
                                phone_code: 1736192831
                                posts_per_blogger: 1871599110
                                status: 6
                                title: Perferendis aut.
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                $ref: '#/components/schemas/Dataset'
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Dolores aliquid fugiat.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
    /api/datasets/draft/:
        post:
            tags:
                - datasets_service
            summary: create dataset draft datasets_service
            description: создать драфт задачи
            operationId: datasets_service#create dataset draft
            responses:
                "200":
                    description: OK response.
                    content:
                        application/json:
                            schema:
                                type: string
                                description: dataset_id для созданной задачи
                                example: 0866BAED-0A78-C310-5523-F8F1C3A1D14C
                                format: uuid
                            example: 86EDFB6E-94F4-2B51-2B7E-E4683F848FD6
                "400":
                    description: 'bad request: Bad Request response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Sed laboriosam non asperiores facilis nihil dolores.
                "401":
                    description: 'unauthorized: Unauthorized response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                description: dataset_id для созданной задачи
                                example: D027EA19-1014-886E-F650-7C507090065C
                                format: uuid
                "404":
                    description: 'dataset not found: Not Found response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                description: dataset_id для созданной задачи
                                example: 08881150-0EBF-0710-C5E8-0B82D2C9C671
                                format: uuid
                "500":
                    description: 'internal error: Internal Server Error response.'
                    content:
                        application/json:
                            schema:
                                type: string
                                example: Voluptatem rerum dicta laudantium cupiditate voluptas iure.
            security:
                - jwt_header_Authorization:
                    - driver
                    - admin
components:
    schemas:
        Blogger:
            type: object
            properties:
                dataset_id:
                    type: string
                    description: айди датасета, к которому принадлежит блоггер
                    example: 3E620E27-EED0-3E38-87CD-C7C87D512815
                    format: uuid
                id:
                    type: string
                    example: 84858054-1B69-3E9A-C82B-BF11FF33B1D8
                    format: uuid
                is_initial:
                    type: boolean
                    description: является ли блоггер изначально в датасете или появился при парсинге
                    example: true
                user_id:
                    type: integer
                    description: user_id в инстаграме, -1 если неизвестен
                    example: 1407903034742328567
                    format: int64
                username:
                    type: string
                    description: имя аккаунта в инстаграме
                    example: Omnis vel distinctio qui sed rerum.
            example:
                dataset_id: 45442A02-3FD6-C827-BA11-864B7D92257A
                id: BD3BFBE7-02F2-99D7-D026-8BD77E75C122
                is_initial: true
                user_id: 6247843716232879489
                username: Consectetur modi praesentium autem maxime expedita.
            required:
                - id
                - dataset_id
                - username
                - is_initial
                - user_id
        Dataset:
            type: object
            properties:
                bloggers:
                    type: array
                    items:
                        $ref: '#/components/schemas/Blogger'
                    example:
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                commented_per_post:
                    type: integer
                    description: сколько прокоментировааших для каждого поста брать
                    example: 1208541463
                    format: int32
                id:
                    type: string
                    example: 1A24D89F-A0EE-4671-E9C1-CE63E054B707
                    format: uuid
                liked_per_post:
                    type: integer
                    description: сколько лайкнувших для каждого поста брать
                    example: 451707273
                    format: int32
                phone_code:
                    type: integer
                    description: является ли блоггер изначально в датасете или появился при парсинге
                    example: 1878606091
                    format: int32
                posts_per_blogger:
                    type: integer
                    description: имена аккаунтов, для которых ищем похожих
                    example: 1512185000
                    format: int32
                status:
                    type: integer
                    example: 4
                    enum:
                        - 1
                        - 2
                        - 3
                        - 4
                        - 5
                        - 6
                title:
                    type: string
                    description: название задачи
                    example: Sed quisquam quo et sint aperiam.
            example:
                bloggers:
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                commented_per_post: 1941122440
                id: 2E7D48F1-CD94-6874-B6D8-717D4A8FD873
                liked_per_post: 882343389
                phone_code: 756192311
                posts_per_blogger: 498048463
                status: 1
                title: Quam odio excepturi cum error doloremque error.
            required:
                - id
                - bloggers
                - status
                - title
                - posts_per_blogger
                - liked_per_post
                - commented_per_post
        DatasetProgress:
            type: object
            properties:
                bloggers:
                    type: array
                    items:
                        $ref: '#/components/schemas/Blogger'
                    description: блогеры, которых уже нашли
                    example:
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                        - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                          id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                          is_initial: true
                          user_id: 1265436064177614974
                          username: Ut occaecati corrupti corporis.
                done:
                    type: boolean
                    description: закончена ли задача
                    example: true
                filtered_bloggers:
                    type: integer
                    description: количество блогеров, которые проходят проверку по коду региона
                    example: 7541920661626756020
                    format: int64
                initial_bloggers:
                    type: integer
                    description: количество блогеров, которые были изначально
                    example: 8339254457011031341
                    format: int64
                new_bloggers:
                    type: integer
                    description: количество блогеров, которых нашли
                    example: 3048820255886233210
                    format: int64
            example:
                bloggers:
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                    - dataset_id: FB1E8AC6-4FA4-C883-ED5A-54960E88F5FE
                      id: 74C53540-E974-ABFF-2565-6BF99F9017B2
                      is_initial: true
                      user_id: 1265436064177614974
                      username: Ut occaecati corrupti corporis.
                done: true
                filtered_bloggers: 975909945200386765
                initial_bloggers: 3895631660548607032
                new_bloggers: 3539926449560369107
            required:
                - bloggers
                - initial_bloggers
                - new_bloggers
                - filtered_bloggers
                - done
        ParseDatasetOKResponseBody:
            type: object
            properties:
                dataset_id:
                    type: string
                    description: id задачи
                    example: Officia sint sit.
                status:
                    type: integer
                    example: 1
                    enum:
                        - 1
                        - 2
                        - 3
                        - 4
                        - 5
                        - 6
            example:
                dataset_id: Et qui quidem similique id ea.
                status: 3
            required:
                - dataset_id
                - status
        ParsingProgress:
            type: object
            properties:
                bloggers_parsed:
                    type: integer
                    description: количество блогеров, у которых спарсили пользователей
                    example: 8811609093262820379
                    format: int64
                done:
                    type: boolean
                    description: закончен ли парсинг блогеров
                    example: false
                targets_saved:
                    type: integer
                    description: количество сохраненных доноров
                    example: 8647442714440322185
                    format: int64
            example:
                bloggers_parsed: 3305173858240476748
                done: true
                targets_saved: 6266948991280633500
            required:
                - bloggers_parsed
                - targets_saved
                - done
        UpdateDatasetRequestBody:
            type: object
            properties:
                commented_per_post:
                    type: integer
                    description: сколько прокоментировааших для каждого поста брать
                    example: 5673086758089991336
                liked_per_post:
                    type: integer
                    description: сколько лайкнувших для каждого поста брать
                    example: 4031812775812334357
                original_accounts:
                    type: array
                    items:
                        type: string
                        example: Repudiandae repellendus aliquid rem atque.
                    description: имена аккаунтов, для которых ищем похожих
                    example:
                        - Cumque corporis aliquam est.
                        - Quaerat repudiandae pariatur beatae possimus dignissimos optio.
                        - Sed eaque a.
                phone_code:
                    type: integer
                    description: код региона, по которому будем сортировать
                    example: 7
                    minimum: 1
                    maximum: 1000
                posts_per_blogger:
                    type: integer
                    description: имена аккаунтов, для которых ищем похожих
                    example: 12336549804949401488
                title:
                    type: string
                    description: название задачи
                    example: Nihil similique ratione numquam quod.
            example:
                commented_per_post: 2419055019979436660
                liked_per_post: 4860468425783070672
                original_accounts:
                    - Explicabo qui odit.
                    - Et dolores quos qui quisquam aspernatur quia.
                    - Aut voluptatem quasi eaque voluptatibus.
                phone_code: 7
                posts_per_blogger: 4523872262516744433
                title: Totam aspernatur suscipit.
    securitySchemes:
        jwt_header_Authorization:
            type: http
            description: Secures endpoint by requiring a valid JWT token retrieved via the signin endpoint. Supports scopes "api:read" and "api:write".
            scheme: bearer
tags:
    - name: datasets_service
      description: сервис для создания, редактирования и работы с задачами (рекламными компаниями)
